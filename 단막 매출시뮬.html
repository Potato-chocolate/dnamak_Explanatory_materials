<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹¨ë§‰ í”„ëœì°¨ì´ì¦ˆ ë§¤ì¶œ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        :root {
            --primary-color: #8B4513;
            --primary-dark: #654321;
            --secondary-color: #FF8C00;
            --secondary-dark: #D2691E;
            --accent-color: #FF7F50;
            --danger-color: #A0522D;
            --dark-color: #654321;
            --light-color: #FFF8DC;
            --gold-primary: #FFD700;
            --gold-secondary: #FFA500;
            --gold-dark: #FF8C00;
            --shadow-gold: 0 15px 35px rgba(255, 215, 0, 0.4);
            --shadow-light: 0 2px 10px rgba(0,0,0,0.08);
            --shadow-medium: 0 8px 25px rgba(0,0,0,0.12);
            --shadow-heavy: 0 20px 40px rgba(0,0,0,0.15);
            --border-radius: 12px;
            --transition-fast: 0.2s ease;
            --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FFF8DC 0%, #F5DEB3 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2c3e50;
            line-height: 1.6;
            scroll-behavior: smooth;
            font-variant-numeric: tabular-nums;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-heavy);
            overflow: hidden;
            transition: transform var(--transition-smooth), box-shadow var(--transition-smooth);
        }

        .container:hover {
            transform: translateY(-3px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="45" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="45" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            animation: sparkle 15s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: translateY(0px); }
            50% { opacity: 0.8; transform: translateY(-10px); }
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
            background: linear-gradient(45deg, #fff, #FFF8DC);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            font-weight: 300;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        
        .input-section {
            background: linear-gradient(135deg, #FFF8DC 0%, #F5DEB3 100%);
            padding: 30px;
            border-radius: var(--border-radius);
            border: 1px solid rgba(0,0,0,0.08);
            box-shadow: var(--shadow-light);
            transition: all var(--transition-smooth);
        }

        .input-section:hover {
            box-shadow: var(--shadow-medium);
            transform: translateY(-2px);
        }
        
        .input-section h2 {
            color: var(--dark-color);
            margin-bottom: 28px;
            font-size: 1.4rem;
            font-weight: 700;
            position: relative;
            padding-left: 16px;
        }

        .input-section h2::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--dark-color);
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--secondary-dark);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: all var(--transition-smooth);
            background: white;
            box-shadow: var(--shadow-light);
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
            transform: translateY(-1px);
        }

        .form-group input:hover, .form-group select:hover {
            border-color: var(--secondary-color);
            box-shadow: var(--shadow-medium);
        }
        
        .input-info-cards {
            margin-top: 25px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .info-card {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 18px;
            background: rgba(255,255,255,0.8);
            border-radius: 12px;
            border: 1px solid rgba(139, 69, 19, 0.15);
            box-shadow: 0 4px 15px rgba(139, 69, 19, 0.1);
            transition: all var(--transition-smooth);
        }
        
        .info-card:hover {
            background: rgba(255,255,255,0.95);
            border-color: rgba(139, 69, 19, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.15);
        }
        
        .info-icon {
            font-size: 24px;
            line-height: 1;
            flex-shrink: 0;
        }
        
        .info-content h4 {
            margin: 0 0 6px 0;
            font-size: 16px;
            font-weight: 700;
            color: var(--primary-color);
            line-height: 1.3;
        }
        
        .info-content p {
            margin: 0;
            font-size: 14px;
            color: var(--dark-color);
            line-height: 1.5;
            opacity: 0.85;
        }
        
        .result-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 35px;
            border-radius: var(--border-radius);
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-heavy);
            transition: all var(--transition-smooth);
        }

        .result-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 25px 50px rgba(102, 126, 234, 0.4);
        }

        .result-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: glow 6s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { opacity: 0.3; transform: scale(1) rotate(0deg); }
            50% { opacity: 0.8; transform: scale(1.2) rotate(180deg); }
        }
        
        .result-section h2 {
            margin-bottom: 30px;
            font-size: 1.5rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        
        .result-value {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
            background: linear-gradient(45deg, #fff, #FFF8DC);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-variant-numeric: tabular-nums;
        }
        
        .result-unit {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .calculation-details {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(145deg, rgba(255,255,255,0.95), rgba(255,248,220,0.9));
            border-radius: 15px;
            text-align: left;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.15);
            border: 1px solid rgba(139, 69, 19, 0.2);
            transition: all var(--transition-smooth);
        }
        
        .calculation-details:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(139, 69, 19, 0.2);
        }
        
        .calculation-details h3 {
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
            text-align: center;
            position: relative;
        }
        
        .calculation-details h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }
        
        .calc-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 12px 15px;
            background: rgba(255,255,255,0.7);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
            transition: all var(--transition-fast);
        }
        
        .calc-row:hover {
            background: rgba(255,255,255,0.9);
            border-left-color: var(--secondary-color);
            transform: translateX(3px);
        }
        
        .calc-row span:first-child {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark-color);
            letter-spacing: -0.2px;
        }
        
        .calc-row span:last-child {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-color);
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
            font-variant-numeric: tabular-nums;
        }
        
        .reference-tables {
            grid-column: 1 / -1;
            margin-top: 20px;
        }
        
        .profit-analysis {
            grid-column: 1 / -1;
            margin-top: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .profit-header {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--secondary-dark) 100%);
            color: white;
            padding: 35px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .profit-header::before {
            content: 'ğŸ’°';
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 3rem;
            opacity: 0.3;
            animation: bounce 3s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .profit-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
            background: linear-gradient(45deg, #fff, #FFF8DC);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .profit-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            font-weight: 300;
        }
        
        .profit-content {
            padding: 30px;
        }
        
        .profit-input-section {
            background: #FFF8DC;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid var(--secondary-dark);
        }
        
        .profit-input-section h3 {
            margin-bottom: 15px;
            color: var(--dark-color);
            font-weight: 600;
        }
        
        .rent-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .rent-input input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid var(--secondary-dark);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .rent-input input:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }
        
        .profit-summary {
            display: grid;
            grid-template-columns: 1fr 1fr 2fr;
            gap: 20px;
            margin-bottom: 30px;
            align-items: stretch;
        }
        
        .summary-card {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all var(--transition-smooth);
            box-shadow: var(--shadow-medium);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .summary-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy);
        }

        .summary-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 4s linear infinite;
        }

        @keyframes shimmer {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .summary-card.revenue {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--secondary-dark) 100%);
        }
        
        .summary-card.expense {
            background: linear-gradient(135deg, var(--danger-color) 0%, var(--secondary-color) 100%);
        }
        
        .summary-card.profit {
            background: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-secondary) 50%, var(--gold-dark) 100%);
            color: #2c3e50;
            font-weight: 800;
            transform: scale(1.05);
            box-shadow: var(--shadow-gold);
            border: 2px solid var(--gold-primary);
        }
        
        .summary-card.profit::before {
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                rgba(255,255,255,0.3) 90deg,
                transparent 180deg,
                rgba(255,255,255,0.3) 270deg,
                transparent 360deg
            );
            animation: goldShimmer 3s linear infinite;
        }
        
        .summary-card.profit::after {
            content: 'ğŸ’';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            opacity: 0.8;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .summary-card.profit:hover {
            transform: translateY(-5px) scale(1.08);
            box-shadow: 0 20px 50px rgba(255, 215, 0, 0.6);
        }
        
        @keyframes goldShimmer {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { 
                transform: scale(1) rotate(0deg); 
                opacity: 0.8; 
            }
            50% { 
                transform: scale(1.1) rotate(10deg); 
                opacity: 1; 
            }
        }
        
        .summary-card h4 {
            font-size: 16px;
            margin-bottom: 12px;
            opacity: 0.9;
            font-weight: 600;
        }
        
        .summary-card .amount {
            font-size: 22px;
            font-weight: 800;
            margin-bottom: 8px;
            font-variant-numeric: tabular-nums;
            line-height: 1.2;
        }
        
        .summary-card .percentage {
            font-size: 14px;
            opacity: 0.85;
            font-weight: 600;
        }
        
        .summary-card.profit h4 {
            position: relative;
            z-index: 2;
            font-size: 18px;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .summary-card.profit .amount {
            position: relative;
            z-index: 2;
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            letter-spacing: -1px;
        }
        
        .summary-card.profit .percentage {
            position: relative;
            z-index: 2;
            font-size: 16px;
            font-weight: 700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .expense-categories {
            display: grid;
            gap: 15px;
        }
        
        .expense-category {
            background: #FFF8DC;
            border: 1px solid var(--secondary-dark);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .category-header {
            background: linear-gradient(135deg, var(--dark-color) 0%, var(--primary-color) 100%);
            color: white;
            padding: 18px 24px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        .category-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left var(--transition-smooth);
        }
        
        .category-header:hover {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-dark) 100%);
            transform: translateX(3px);
        }

        .category-header:hover::before {
            left: 100%;
        }
        
        .category-header h4 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
        }
        
        .category-summary {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .toggle-icon {
            font-size: 18px;
            transition: transform 0.3s ease;
        }
        
        .category-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .category-details.open {
            max-height: 500px;
        }
        
        .detail-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .detail-table th,
        .detail-table td {
            padding: 12px 20px;
            text-align: left;
            border-bottom: 1px solid var(--secondary-dark);
            font-size: 14px;
        }
        
        .detail-table th {
            background: #F5DEB3;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .detail-table .amount {
            text-align: right;
            font-weight: 700;
            font-variant-numeric: tabular-nums;
        }
        
        .detail-table .percentage {
            text-align: right;
            color: var(--dark-color);
            font-size: 12px;
        }
        
        /* ì¸ê±´ë¹„ ì„œë¸Œë¼ë²¨ ìŠ¤íƒ€ì¼ */
        .main-label {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 4px;
        }
        
        .sub-label {
            font-size: 11px;
            color: #666;
            font-style: italic;
            line-height: 1.2;
        }
        
        .sub-label::before {
            content: "â€¢ ";
            color: var(--secondary-color);
            font-weight: bold;
        }
        
        .tables-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .reference-table {
            background: #FFF8DC;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--secondary-dark);
            height: 280px;
            display: flex;
            flex-direction: column;
        }
        
        .table-title {
            background: var(--dark-color);
            color: white;
            padding: 15px;
            font-weight: 600;
            text-align: center;
            flex-shrink: 0;
        }
        
        .table-content {
            padding: 0;
            flex: 1;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            height: 100%;
        }

        .table-wrapper {
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #F5DEB3;
            border-radius: var(--border-radius);
        }

        .table-wrapper::-webkit-scrollbar {
            height: 8px;
        }

        .table-wrapper::-webkit-scrollbar-track {
            background: #F5DEB3;
            border-radius: 4px;
        }

        .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        .table-wrapper::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        .scroll-hint {
            display: none;
            text-align: center;
            padding: 8px;
            font-size: 0.8rem;
            color: var(--primary-color);
            background: rgba(102, 126, 234, 0.1);
            border-radius: 4px;
            margin-bottom: 8px;
            animation: fadeInOut 3s ease-in-out infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        th, td {
            padding: 10px 15px;
            text-align: center;
            border-bottom: 1px solid var(--secondary-dark);
            font-size: 14px;
            vertical-align: middle;
        }
        
        th {
            background: #F5DEB3;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        tr:hover {
            background: #F5DEB3;
        }
        
        .highlight {
            background: #FFF8DC !important;
            border-left: 4px solid var(--secondary-color);
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 8px;
                margin: 10px 0;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 2rem;
                line-height: 1.2;
            }

            .header p {
                font-size: 1rem;
            }

            .main-content {
                grid-template-columns: 1fr;
                padding: 20px 16px;
                gap: 24px;
            }

            .input-section, .result-section {
                padding: 24px 20px;
            }

            .input-section h2, .result-section h2 {
                font-size: 1.2rem;
                margin-bottom: 20px;
            }

            .result-value {
                font-size: 2.2rem;
            }

            .profit-header {
                padding: 25px 20px;
            }

            .profit-header h2 {
                font-size: 1.4rem;
            }

            .profit-summary {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            .summary-card.profit {
                transform: none;
            }
            .summary-card.profit:hover {
                transform: translateY(-3px) scale(1.02);
            }

            .summary-card {
                padding: 20px;
            }

            .summary-card .amount {
                font-size: 1.4rem;
            }
            
            .tables-container {
                grid-template-columns: 1fr;
            }

            .form-group input, .form-group select {
                padding: 12px 16px;
                font-size: 0.95rem;
            }

            .category-header {
                padding: 16px 20px;
            }

            .scroll-hint {
                display: block;
            }

            .detail-table {
                min-width: 500px;
                white-space: nowrap;
            }

            .detail-table th,
            .detail-table td {
                padding: 10px 12px;
                font-size: 0.85rem;
                min-width: fit-content;
            }

            .detail-table th {
                position: sticky;
                top: 0;
                background: #F5DEB3;
                z-index: 10;
            }

            .reference-table .table-content {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .reference-table table {
                min-width: 400px;
            }

            .reference-table th,
            .reference-table td {
                white-space: nowrap;
                min-width: 80px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.6rem;
            }

            .result-value {
                font-size: 1.8rem;
            }

            .profit-summary {
                grid-template-columns: 1fr;
            }

            .summary-card .amount {
                font-size: 1.2rem;
            }

            .detail-table {
                font-size: 0.8rem;
                min-width: 450px;
            }

            .reference-table table {
                min-width: 350px;
            }

            .scroll-hint {
                font-size: 0.75rem;
                padding: 6px;
            }

            .table-wrapper::-webkit-scrollbar {
                height: 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ë‹¨ë§‰ í”„ëœì°¨ì´ì¦ˆ ë§¤ì¶œ ì‹œë®¬ë ˆì´ì…˜</h1>
            <p>ì›í•˜ëŠ” ì¡°ê±´ì„ ì…ë ¥í•˜ì—¬ ì˜ˆìƒ ë§¤ì¶œì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
        </div>
        
        <div class="main-content">
            <div class="input-section">
                <h2>ğŸ“ ë§¤ì¥ ì •ë³´ ì…ë ¥</h2>
                
                <div class="form-group">
                    <label for="region_type">ì§€ì—­</label>
                    <select id="region_type" onchange="updateLocationOptions()">
                        <option value="ìˆ˜ë„ê¶Œ" selected>ìˆ˜ë„ê¶Œ</option>
                        <option value="ì§€ë°©ê¶Œ">ì§€ë°©ê¶Œ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="location_area">ì¶œì ì§€ì—­ ë° ìƒê¶Œ</label>
                    <select id="location_area" onchange="updateCalculation()">
                        <option value="ì˜¤í”¼ìŠ¤-ì¢…ê°">ì˜¤í”¼ìŠ¤</option>
                        <option value="ì£¼ê±°-ë…¸ì›">ì£¼ê±°</option>
                        <option value="ë¨¹ì-ìƒì•”">ë¨¹ìê³¨ëª©</option>
                        <option value="ëŒ€í•™ìƒ-ì‹ ì´Œ">ëŒ€í•™ê°€</option>
                        <option value="ë³µí•©-í™ëŒ€">ë³µí•©ìƒê¶Œ</option>
                        <option value="ë°ì´íŠ¸-ì„ì´Œ">ë°ì´íŠ¸ì½”ìŠ¤</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="area_size">ë§¤ì¥ í‰ìˆ˜</label>
                    <select id="area_size" onchange="updateCalculation()">
                        <option value="30">30í‰</option>
                        <option value="35">35í‰</option>
                        <option value="40" selected>40í‰</option>
                        <option value="45">45í‰</option>
                        <option value="50">50í‰</option>
                        <option value="60">60í‰</option>
                        <option value="70">70í‰</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="business_days">ì›” ì˜ì—…ì¼ìˆ˜</label>
                    <input type="number" id="business_days" value="30" min="25" max="31" onchange="updateCalculation()">
                </div>
                
                <div class="input-info-cards">
                    <div class="info-card">
                        <div class="info-icon">ğŸª</div>
                        <div class="info-content">
                            <h4>ë§¤ì¥ í‰ìˆ˜ë³„ í…Œì´ë¸” ìˆ˜</h4>
                            <p>í‰ìˆ˜ì— ë”°ë¼ ìµœì  í…Œì´ë¸” ë°°ì¹˜ê°€ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">ğŸ’¡</div>
                        <div class="info-content">
                            <h4>ì§€ì—­ë³„ íŠ¹ì„± ë°˜ì˜</h4>
                            <p>ìƒê¶Œë³„ ìœ ë™ì¸êµ¬ì™€ ì†Œë¹„íŒ¨í„´ì„ ê³ ë ¤í•œ ê³„ì‚°</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="result-section">
                <h2>ğŸ’° ì˜ˆìƒ ì›” ë§¤ì¶œ</h2>
                <div class="result-value" id="monthly_sales">102,375,000ì›</div>
                
                <div class="calculation-details">
                    <h3>ğŸ“Š ê³„ì‚° ìƒì„¸</h3>
                    <div class="calc-row">
                        <span>ë§¤ì¥ í‰ìˆ˜:</span>
                        <span id="calc_area">40í‰</span>
                    </div>
                    <div class="calc-row">
                        <span>í…Œì´ë¸” ìˆ˜:</span>
                        <span id="calc_tables">15ê°œ</span>
                    </div>
                    <div class="calc-row">
                        <span>í‰ê·  ì¡°ë‹¨ê°€:</span>
                        <span id="calc_price">91,000ì›</span>
                    </div>
                    <div class="calc-row">
                        <span>ê¸°ëŒ€ íšŒì „ìˆ˜:</span>
                        <span id="calc_turnover">2.5íšŒ</span>
                    </div>
                    <div class="calc-row">
                        <span>ì˜ì—…ì¼ìˆ˜:</span>
                        <span id="calc_days">30ì¼</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="reference-tables">
            <div class="scroll-hint">ğŸ“± í…Œì´ë¸”ì„ ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
            <div class="tables-container">
                <div class="reference-table">
                    <div class="table-title">í‰ìˆ˜ë³„ í…Œì´ë¸” ë°°ì¹˜ ê¸°ì¤€</div>
                    <div class="table-content">
                        <table>
                            <thead>
                                <tr>
                                    <th>í‰ìˆ˜</th>
                                    <th>í…Œì´ë¸” ìˆ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>30í‰</td><td>11ê°œ</td></tr>
                                <tr><td>35í‰</td><td>13ê°œ</td></tr>
                                <tr class="highlight"><td>40í‰</td><td>15ê°œ</td></tr>
                                <tr><td>45í‰</td><td>17ê°œ</td></tr>
                                <tr><td>50í‰</td><td>19ê°œ</td></tr>
                                <tr><td>60í‰</td><td>23ê°œ</td></tr>
                                <tr><td>70í‰</td><td>27ê°œ</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="reference-table">
                    <div class="table-title">ìƒê¶Œë³„ íšŒì „ìˆ˜ & ì¡°ë‹¨ê°€</div>
                    <div class="table-content">
                        <table>
                            <thead>
                                <tr>
                                    <th>ìƒê¶Œ</th>
                                    <th>ê¸°ëŒ€íšŒì „</th>
                                    <th>í‰ê· ì¡°ë‹¨ê°€</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="highlight"><td>ì˜¤í”¼ìŠ¤</td><td>2.5íšŒ</td><td>91,000ì›</td></tr>
                                <tr><td>ì£¼ê±°</td><td>2.5íšŒ</td><td>82,000ì›</td></tr>
                                <tr><td>ë¨¹ìê³¨ëª©</td><td>3.0íšŒ</td><td>87,000ì›</td></tr>
                                <tr><td>ëŒ€í•™ê°€</td><td>3.5íšŒ</td><td>79,000ì›</td></tr>
                                <tr><td>ë³µí•©ìƒê¶Œ</td><td>3.0íšŒ</td><td>85,000ì›</td></tr>
                                <tr><td>ë°ì´íŠ¸ì½”ìŠ¤</td><td>3.5íšŒ</td><td>85,000ì›</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="reference-table">
                    <div class="table-title">ì§€ì—­ë³„ ìƒê¶Œ ë¶„ë¥˜ ì°¸ê³ </div>
                    <div class="table-content">
                        <table>
                            <thead>
                                <tr>
                                    <th>ìƒê¶Œêµ¬ë¶„</th>
                                    <th>íŠ¹ì§•</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="highlight"><td>ì˜¤í”¼ìŠ¤</td><td>ì§ì¥ì¸ ì¤‘ì‹¬</td></tr>
                                <tr><td>ì£¼ê±°</td><td>ì£¼ë¯¼ ì¤‘ì‹¬</td></tr>
                                <tr><td>ë¨¹ìê³¨ëª©</td><td>ì™¸ì‹ ì¤‘ì‹¬</td></tr>
                                <tr><td>ëŒ€í•™ê°€</td><td>ëŒ€í•™ìƒ ì¤‘ì‹¬</td></tr>
                                <tr><td>ë³µí•©ìƒê¶Œ</td><td>ë‹¤ì–‘í•œ ê³ ê°ì¸µ</td></tr>
                                <tr><td>ë°ì´íŠ¸ì½”ìŠ¤</td><td>ì—°ì¸ ì¤‘ì‹¬</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ì˜ˆìƒ ìˆ˜ìµ ë¶„ì„ ì„¹ì…˜ -->
        <div class="profit-analysis">
            <div class="profit-header">
                <h2>ğŸ’° ì˜ˆìƒ ìˆ˜ìµ ë¶„ì„</h2>
                <p>ë§¤ì¶œì—ì„œ ê°ì¢… ë¹„ìš©ì„ ì°¨ê°í•œ ìˆœìˆ˜ìµì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
            </div>
            
            <div class="profit-content">
                <div class="profit-input-section">
                    <h3>ğŸ¢ ì„ëŒ€ë£Œ ì„¤ì •</h3>
                    <div class="rent-input">
                        <label>ì›” ì„ëŒ€ë£Œ:</label>
                        <input type="text" id="monthly_rent" value="4,400,000" onchange="updateProfitCalculation()" oninput="formatRentInput(this)">
                        <span>ì› (ë¶€ê°€ì„¸ í¬í•¨)</span>
                    </div>
                </div>
                
                <div class="profit-summary">
                    <div class="summary-card revenue">
                        <h4>ì´ ë§¤ì¶œ</h4>
                        <div class="amount" id="profit_revenue">102,375,000ì›</div>
                        <div class="percentage">100%</div>
                    </div>
                    <div class="summary-card expense">
                        <h4>ì´ ì§€ì¶œ</h4>
                        <div class="amount" id="profit_expense">71,039,183ì›</div>
                        <div class="percentage" id="expense_percentage">69.4%</div>
                    </div>
                    <div class="summary-card profit">
                        <h4>ğŸ’ ìˆœìˆ˜ìµ</h4>
                        <div class="amount" id="net_profit">31,335,817ì›</div>
                        <div class="percentage" id="profit_percentage">30.6%</div>
                    </div>
                </div>
                
                <div class="expense-categories">
                    <div class="expense-category">
                        <div class="category-header" onclick="toggleCategory('fixed-costs')">
                            <h4>ğŸ¢ ê³ ì •ë¹„</h4>
                            <div class="category-summary">
                                <span id="fixed_costs_amount">5,062,900ì›</span>
                                <span class="percentage" id="fixed_costs_percent">(4.9%)</span>
                                <span class="toggle-icon" id="fixed-costs-icon">â–¼</span>
                            </div>
                        </div>
                        <div class="category-details" id="fixed-costs-details">
                            <div class="scroll-hint">ğŸ“± ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
                            <div class="table-wrapper">
                                <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>í•­ëª©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ë¹„ìœ¨</th>
                                        <th>ë¹„ê³ </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>ì„ëŒ€ë£Œ</td>
                                        <td class="amount" id="rent_display">4,400,000ì›</td>
                                        <td class="percentage" id="rent_percent">4.3%</td>
                                        <td>ë¶€ê°€ì„¸ í¬í•¨</td>
                                    </tr>
                                    <tr>
                                        <td>í¬ìŠ¤</td>
                                        <td class="amount">279,400ì›</td>
                                        <td class="percentage">0.27%</td>
                                        <td>í…Œì´ë¸”ì˜¤ë”, ë©”ì¸ í¬ìŠ¤ (í‰ìˆ˜ë³„)</td>
                                    </tr>
                                    <tr>
                                        <td>ìºì¹˜í…Œì´ë¸”</td>
                                        <td class="amount">38,500ì›</td>
                                        <td class="percentage">0.04%</td>
                                        <td>ì˜ˆì•½ ë° ì›¨ì´íŒ…</td>
                                    </tr>
                                    <tr>
                                        <td>ë³´ì•ˆ</td>
                                        <td class="amount">110,000ì›</td>
                                        <td class="percentage">0.1%</td>
                                        <td>ë³´ì•ˆ ì„œë¹„ìŠ¤</td>
                                    </tr>
                                    <tr>
                                        <td>ì¸í„°ë„·</td>
                                        <td class="amount">55,000ì›</td>
                                        <td class="percentage">0.05%</td>
                                        <td>ì¸í„°ë„·, ì „í™”ìš”ê¸ˆ</td>
                                    </tr>
                                    <tr>
                                        <td>ë³´í—˜</td>
                                        <td class="amount">70,000ì›</td>
                                        <td class="percentage">0.07%</td>
                                        <td>ìŒì‹ë¬¼ì±…ì„ë°°ìƒë³´í—˜</td>
                                    </tr>
                                    <tr>
                                        <td>ê¸°ì¥ëŒ€í–‰</td>
                                        <td class="amount">110,000ì›</td>
                                        <td class="percentage">0.1%</td>
                                        <td>íšŒê³„ ì‚¬ë¬´ì†Œ</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expense-category">
                        <div class="category-header" onclick="toggleCategory('labor-costs')">
                            <h4>ğŸ‘¥ ì¸ê±´ë¹„</h4>
                            <div class="category-summary">
                                <span id="labor_costs_amount">24,700,320ì›</span>
                                <span class="percentage">(24.1%)</span>
                                <span class="toggle-icon" id="labor-costs-icon">â–¼</span>
                            </div>
                        </div>
                        <div class="category-details" id="labor-costs-details">
                            <div class="scroll-hint">ğŸ“± ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
                            <div class="table-wrapper">
                                <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>í•­ëª©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ë¹„ìœ¨</th>
                                        <th>ë¹„ê³ </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="main-label">ì§ì› ê¸‰ì—¬</div>
                                            <div class="sub-label" id="staff_info_display">ì•½ 5ëª… ê³ ìš© ê¸°ì¤€</div>
                                        </td>
                                        <td class="amount">16,500,000ì›</td>
                                        <td class="percentage">16.1%</td>
                                        <td>í‰ìˆ˜ë³„ ì°¨ë“± ì ìš©</td>
                                    </tr>
                                    <tr>
                                        <td>4ëŒ€ë³´í—˜</td>
                                        <td class="amount">1,485,000ì›</td>
                                        <td class="percentage">1.5%</td>
                                        <td>ì§ì› ê¸‰ì—¬ì˜ 9%</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="main-label">PT ê¸‰ì—¬</div>
                                            <div class="sub-label" id="pt_info_display">ì•½ 5ëª…, í‰ê·  20ì‹œê°„ ê¸°ì¤€</div>
                                        </td>
                                        <td class="amount">6,715,320ì›</td>
                                        <td class="percentage">6.6%</td>
                                        <td>í‰ìˆ˜ë³„ ì°¨ë“± ì ìš©</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expense-category">
                        <div class="category-header" onclick="toggleCategory('food-costs')">
                            <h4>ğŸ¥© ì‹ì¬ë£Œ</h4>
                            <div class="category-summary">
                                <span id="food_costs_amount">25,849,688ì›</span>
                                <span class="percentage">(27.30%)</span>
                                <span class="toggle-icon" id="food-costs-icon">â–¼</span>
                            </div>
                        </div>
                        <div class="category-details" id="food-costs-details">
                            <div class="scroll-hint">ğŸ“± ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
                            <div class="table-wrapper">
                                <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>í•­ëª©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ë¹„ìœ¨</th>
                                        <th>ë¹„ê³ </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>ë³¸ì‚¬ ë¬¼ë¥˜(ë§‰ì°½)</td>
                                        <td class="amount" id="food_main">12,796,875ì›</td>
                                        <td class="percentage">13.5%</td>
                                        <td>ë§‰ì°½, ì†Œë§‰ì°½, ê»ë°ê¸°</td>
                                    </tr>
                                    <tr>
                                        <td>ë³¸ì‚¬ ë¬¼ë¥˜(ì†ŒìŠ¤)</td>
                                        <td class="amount" id="food_sauce">2,047,500ì›</td>
                                        <td class="percentage">3.0%</td>
                                        <td>ì „ìš© ì†ŒìŠ¤ë¥˜</td>
                                    </tr>
                                    <tr>
                                        <td>ë§‰ì°½ì™¸ ìœ¡ë¥˜</td>
                                        <td class="amount" id="food_meat">3,071,250ì›</td>
                                        <td class="percentage">3.0%</td>
                                        <td>ì‚¼ê²¹ì‚´, ëª©ì‚´, í•­ì •ì‚´</td>
                                    </tr>
                                    <tr>
                                        <td>ì²­ê³¼ ë° ê³µì‚°í’ˆ</td>
                                        <td class="amount" id="food_produce">5,886,563ì›</td>
                                        <td class="percentage">5.8%</td>
                                        <td>ìŒ€, ì•¼ì±„, ê¹€ê°€ë£¨ ë“±</td>
                                    </tr>
                                    <tr>
                                        <td>ë¶€ìì¬ ë° ì†Œëª¨í’ˆ</td>
                                        <td class="amount" id="food_supplies">2,047,500ì›</td>
                                        <td class="percentage">2.0%</td>
                                        <td>ìˆ¯, ì¢…ì´ì»µ, ë¬¼í‹°ìŠˆ ë“±</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expense-category">
                        <div class="category-header" onclick="toggleCategory('beverage-costs')">
                            <h4>ğŸº ì£¼ë¥˜ ìŒë£Œ</h4>
                            <div class="category-summary">
                                <span id="beverage_costs_amount">6,910,313ì›</span>
                                <span class="percentage">(6.80%)</span>
                                <span class="toggle-icon" id="beverage-costs-icon">â–¼</span>
                            </div>
                        </div>
                        <div class="category-details" id="beverage-costs-details">
                            <div class="scroll-hint">ğŸ“± ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
                            <div class="table-wrapper">
                                <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>í•­ëª©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ë¹„ìœ¨</th>
                                        <th>ë¹„ê³ </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>ì¼ë°˜ì£¼ë¥˜</td>
                                        <td class="amount" id="beverage_regular">5,118,750ì›</td>
                                        <td class="percentage">5.0%</td>
                                        <td>ì†Œì£¼, ë§¥ì£¼</td>
                                    </tr>
                                    <tr>
                                        <td>ì „í†µì£¼ë¥˜</td>
                                        <td class="amount" id="beverage_premium">1,023,750ì›</td>
                                        <td class="percentage">1.0%</td>
                                        <td>í•˜ì´ë³¼, ê³ ê¸‰ ì£¼ë¥˜</td>
                                    </tr>
                                    <tr>
                                        <td>ìŒë£Œ</td>
                                        <td class="amount" id="beverage_soft">767,813ì›</td>
                                        <td class="percentage">0.8%</td>
                                        <td>ì½œë¼, ì‚¬ì´ë‹¤, ë¬¼</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expense-category">
                        <div class="category-header" onclick="toggleCategory('utility-costs')">
                            <h4>âš¡ ìˆ˜ë„ê´‘ì—´ë¹„</h4>
                            <div class="category-summary">
                                <span id="utility_costs_amount">1,842,750ì›</span>
                                <span class="percentage">(1.8%)</span>
                                <span class="toggle-icon" id="utility-costs-icon">â–¼</span>
                            </div>
                        </div>
                        <div class="category-details" id="utility-costs-details">
                            <div class="scroll-hint">ğŸ“± ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
                            <div class="table-wrapper">
                                <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>í•­ëª©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ë¹„ìœ¨</th>
                                        <th>ë¹„ê³ </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>ì „ê¸°ì„¸</td>
                                        <td class="amount" id="utility_electric">1,023,750ì›</td>
                                        <td class="percentage">1.0%</td>
                                        <td>ë§¤ì¶œ 1%</td>
                                    </tr>
                                    <tr>
                                        <td>ê°€ìŠ¤ë¹„</td>
                                        <td class="amount" id="utility_gas">511,875ì›</td>
                                        <td class="percentage">0.5%</td>
                                        <td>LNG ì‚¬ìš©</td>
                                    </tr>
                                    <tr>
                                        <td>ìˆ˜ë„ì„¸</td>
                                        <td class="amount" id="utility_water">307,125ì›</td>
                                        <td class="percentage">0.3%</td>
                                        <td>ë§¤ì¶œ 0.3%</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expense-category">
                        <div class="category-header" onclick="toggleCategory('misc-costs')">
                            <h4>ğŸ“‹ ê¸°íƒ€ì¡ë¹„</h4>
                            <div class="category-summary">
                                <span id="misc_costs_amount">5,625,713ì›</span>
                                <span class="percentage">(5.5%)</span>
                                <span class="toggle-icon" id="misc-costs-icon">â–¼</span>
                            </div>
                        </div>
                        <div class="category-details" id="misc-costs-details">
                            <div class="scroll-hint">ğŸ“± ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”</div>
                            <div class="table-wrapper">
                                <table class="detail-table">
                                <thead>
                                    <tr>
                                        <th>í•­ëª©</th>
                                        <th>ê¸ˆì•¡</th>
                                        <th>ë¹„ìœ¨</th>
                                        <th>ë¹„ê³ </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>ë¶ˆíŒì½”íŒ…</td>
                                        <td class="amount" id="misc_coating">511,875ì›</td>
                                        <td class="percentage">0.5%</td>
                                        <td>ë§¤ì¶œ 0.5%</td>
                                    </tr>
                                    <tr>
                                        <td>ë³µë¦¬í›„ìƒë¹„</td>
                                        <td class="amount">500,000ì›</td>
                                        <td class="percentage">0.5%</td>
                                        <td>ë¶€ì‹ë¹„ ë° ë¹„í’ˆ</td>
                                    </tr>
                                    <tr>
                                        <td>ì¹´ë“œìˆ˜ìˆ˜ë£Œ</td>
                                        <td class="amount" id="misc_card_fee">1,433,250ì›</td>
                                        <td class="percentage">1.33%</td>
                                        <td>ì¹´ë“œë§¤ì¶œ(95%)ì˜ 1.4%</td>
                                    </tr>
                                    <tr>
                                        <td>ë¡œì—´í‹°</td>
                                        <td class="amount" id="misc_royalty">2,252,250ì›</td>
                                        <td class="percentage">2.2%</td>
                                        <td>ë§¤ì¶œ 2.2%</td>
                                    </tr>
                                    <tr>
                                        <td>ê´‘ê³ ì„ ì „ë¹„</td>
                                        <td class="amount" id="misc_advertising">2,047,500ì›</td>
                                        <td class="percentage">2.0%</td>
                                        <td>ë³¸ì‚¬+ë§¤ì¥ í™ë³´ë¹„</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê¸°ë³¸ ë°ì´í„° ì„¤ì •
        const tablesByArea = {
            30: 11, 35: 13, 40: 15, 45: 17, 50: 19, 60: 23, 70: 27
        };
        
        const areaTypeData = {
            'ì˜¤í”¼ìŠ¤': { turnover: 2.5, price: 91000 },
            'ì£¼ê±°': { turnover: 2.5, price: 82000 },
            'ë¨¹ì': { turnover: 3.0, price: 87000 },
            'ëŒ€í•™ìƒ': { turnover: 3.5, price: 79000 },
            'ë³µí•©': { turnover: 3.0, price: 85000 },
            'ë°ì´íŠ¸': { turnover: 3.5, price: 85000 }
        };
        
        // í‰ìˆ˜ë³„ ì¸ê±´ë¹„ ë°ì´í„° (ì—‘ì…€ íŒŒì¼ ê¸°ì¤€)
        const laborCostsByArea = {
            30: { staffSalary: 16500000, ptSalary: 6437120 },
            40: { staffSalary: 16500000, ptSalary: 6715320 },
            50: { staffSalary: 22700000, ptSalary: 5992000 },
            60: { staffSalary: 22700000, ptSalary: 7939400 },
            70: { staffSalary: 22700000, ptSalary: 9886800 }
        };
        
        // í‰ìˆ˜ë³„ ì¸ë ¥ ì •ë³´ ë°ì´í„°
        const laborInfoByArea = {
            30: { staffCount: 5, ptCount: 5, ptHours: 20 },
            35: { staffCount: 5, ptCount: 5, ptHours: 20 },
            40: { staffCount: 5, ptCount: 5, ptHours: 20 },
            45: { staffCount: 5, ptCount: 5, ptHours: 20 },
            50: { staffCount: 6, ptCount: 7, ptHours: 20 },
            60: { staffCount: 6, ptCount: 7, ptHours: 20 },
            70: { staffCount: 6, ptCount: 7, ptHours: 20 }
        };
        
        // í‰ìˆ˜ë³„ í¬ìŠ¤ ë¹„ìš© ê³„ì‚° (í…Œì´ë¸” ì˜¤ë”ê¸° + ë©”ì¸ í¬ìŠ¤ + ë¶€ê°€ì„¸)
        const getPosCost = area => Math.round(((14000 * (tablesByArea[area] + 1)) + 30000) * 1.1);
        // í‰ìˆ˜ë³„ ì¸ê±´ë¹„ ê³„ì‚° í•¨ìˆ˜ (ë³´ê°„ë²• ì ìš©)
        function getLaborCosts(area) {
            // ì •í™•í•œ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°
            if (laborCostsByArea[area]) {
                return laborCostsByArea[area];
            }
            
            // ë³´ê°„ë²•ìœ¼ë¡œ ê³„ì‚°
            const areas = Object.keys(laborCostsByArea).map(Number).sort((a, b) => a - b);
            
            // ë²”ìœ„ ë‚´ì—ì„œ ë³´ê°„
            for (let i = 0; i < areas.length - 1; i++) {
                const lowerArea = areas[i];
                const upperArea = areas[i + 1];
                
                if (area > lowerArea && area < upperArea) {
                    const ratio = (area - lowerArea) / (upperArea - lowerArea);
                    const lowerData = laborCostsByArea[lowerArea];
                    const upperData = laborCostsByArea[upperArea];
                    
                    return {
                        staffSalary: Math.round(lowerData.staffSalary + (upperData.staffSalary - lowerData.staffSalary) * ratio),
                        ptSalary: Math.round(lowerData.ptSalary + (upperData.ptSalary - lowerData.ptSalary) * ratio)
                    };
                }
            }
            
            // ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš° ê°€ì¥ ê°€ê¹Œìš´ ê°’ ì‚¬ìš©
            if (area <= areas[0]) {
                return laborCostsByArea[areas[0]];
            } else {
                return laborCostsByArea[areas[areas.length - 1]];
            }
        }
        
        // ì§€ì—­ë³„ ìƒê¶Œ ì˜µì…˜ ë°ì´í„°
        const locationOptions = {
            'ìˆ˜ë„ê¶Œ': [
                {value: 'ì˜¤í”¼ìŠ¤-ì¢…ê°', text: 'ì˜¤í”¼ìŠ¤'},
                {value: 'ì£¼ê±°-ë…¸ì›', text: 'ì£¼ê±°'},
                {value: 'ë¨¹ì-ìƒì•”', text: 'ë¨¹ìê³¨ëª©'},
                {value: 'ëŒ€í•™ìƒ-ì‹ ì´Œ', text: 'ëŒ€í•™ê°€'},
                {value: 'ë³µí•©-í™ëŒ€', text: 'ë³µí•©ìƒê¶Œ'},
                {value: 'ë°ì´íŠ¸-ì„ì´Œ', text: 'ë°ì´íŠ¸ì½”ìŠ¤'}
            ],
            'ì§€ë°©ê¶Œ': [
                {value: 'ì˜¤í”¼ìŠ¤-ì„œë©´', text: 'ì˜¤í”¼ìŠ¤'},
                {value: 'ì£¼ê±°-ìˆ˜ì„±êµ¬', text: 'ì£¼ê±°'},
                {value: 'ë¨¹ì-ì„œë¬¸ì‹œì¥', text: 'ë¨¹ìê³¨ëª©'},
                {value: 'ëŒ€í•™ìƒ-ê³„ëª…ëŒ€', text: 'ëŒ€í•™ê°€'},
                {value: 'ë³µí•©-ì„¼í…€ì‹œí‹°', text: 'ë³µí•©ìƒê¶Œ'},
                {value: 'ë°ì´íŠ¸-í•´ìš´ëŒ€', text: 'ë°ì´íŠ¸ì½”ìŠ¤'}
            ]
        };

        // ìƒê¶Œ ë“œë¡­ë‹¤ìš´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateLocationOptions() {
            const regionType = document.getElementById('region_type').value;
            const locationSelect = document.getElementById('location_area');
            const currentAreaType = locationSelect.value.split('-')[0]; // í˜„ì¬ ì„ íƒëœ ìƒê¶Œ íƒ€ì…
            
            // ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ì´ˆê¸°í™”
            locationSelect.innerHTML = '';
            
            // ìƒˆë¡œìš´ ì˜µì…˜ë“¤ ì¶”ê°€
            locationOptions[regionType].forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.value;
                optionElement.textContent = option.text;
                locationSelect.appendChild(optionElement);
            });
            
            // ë™ì¼í•œ ìƒê¶Œ íƒ€ì…ìœ¼ë¡œ ìë™ ì„ íƒ (ê°€ëŠ¥í•œ ê²½ìš°)
            const matchingOption = locationOptions[regionType].find(option => 
                option.value.startsWith(currentAreaType + '-'));
            if (matchingOption) {
                locationSelect.value = matchingOption.value;
            } else {
                locationSelect.selectedIndex = 0; // ì²« ë²ˆì§¸ ì˜µì…˜ìœ¼ë¡œ ê¸°ë³¸ ì„ íƒ
            }
            
            // ì°¸ê³  í…Œì´ë¸” ì—…ë°ì´íŠ¸
            updateReferenceTable();
            
            // ë§¤ì¶œ ê³„ì‚° ì—…ë°ì´íŠ¸
            updateCalculation();
        }

        // ë§¤ì¶œ ê³„ì‚° ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateCalculation() {
            const locationArea = document.getElementById('location_area').value;
            const areaType = locationArea.split('-')[0]; // ìƒê¶Œ íƒ€ì… ì¶”ì¶œ
            const regionType = document.getElementById('region_type').value;
            const area = parseInt(document.getElementById('area_size').value);
            const businessDays = parseInt(document.getElementById('business_days').value);
            
            const tableCount = tablesByArea[area];
            const areaData = areaTypeData[areaType];
            
            // ì§€ì—­ë³„ ê°€ê²© ì°¨ë“± ì ìš© (ì§€ë°©ê¶Œ ì„ íƒì‹œ -10,000ì›)
            const adjustedPrice = regionType === 'ì§€ë°©ê¶Œ' ? 
                areaData.price - 10000 : areaData.price;
            
            // ë§¤ì¶œ ê³„ì‚°: í…Œì´ë¸”ìˆ˜ Ã— ì¡°ì •ëœ í‰ê· ì¡°ë‹¨ê°€ Ã— ê¸°ëŒ€íšŒì „ìˆ˜ Ã— ì˜ì—…ì¼ìˆ˜
            const monthlySales = tableCount * adjustedPrice * areaData.turnover * businessDays;
            
            // ê²°ê³¼ ì—…ë°ì´íŠ¸
            document.getElementById('monthly_sales').textContent = monthlySales.toLocaleString() + 'ì›';
            document.getElementById('calc_area').textContent = area + 'í‰';
            document.getElementById('calc_tables').textContent = tableCount + 'ê°œ';
            document.getElementById('calc_price').textContent = adjustedPrice.toLocaleString() + 'ì›';
            document.getElementById('calc_turnover').textContent = areaData.turnover + 'íšŒ';
            document.getElementById('calc_days').textContent = businessDays + 'ì¼';
            
            // í…Œì´ë¸” í•˜ì´ë¼ì´íŠ¸ ì—…ë°ì´íŠ¸
            updateTableHighlights(area, areaType);
            
            // ì¸ë ¥ ì •ë³´ ì—…ë°ì´íŠ¸
            updateLaborInfo(area);
            
            // ìˆ˜ìµ ë¶„ì„ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸
            updateProfitCalculation();
        }
        
        // í…Œì´ë¸” í•˜ì´ë¼ì´íŠ¸ ì—…ë°ì´íŠ¸
        function updateTableHighlights(area, areaType) {
            const regionType = document.getElementById('region_type').value;
            const priceAdjustment = regionType === 'ì§€ë°©ê¶Œ' ? -10000 : 0;
            
            // í‰ìˆ˜ë³„ í…Œì´ë¸” í•˜ì´ë¼ì´íŠ¸
            const areaRows = document.querySelectorAll('.reference-table:first-child tbody tr');
            areaRows.forEach(row => {
                row.classList.remove('highlight');
                const areaText = row.cells[0].textContent;
                if (areaText.includes(area + 'í‰')) {
                    row.classList.add('highlight');
                }
            });
            
            // ìƒê¶Œë³„ í…Œì´ë¸” í•˜ì´ë¼ì´íŠ¸ ë° ê°€ê²© ì—…ë°ì´íŠ¸
            const typeRows = document.querySelectorAll('.reference-table:nth-child(2) tbody tr');
            typeRows.forEach(row => {
                row.classList.remove('highlight');
                const typeText = row.cells[0].textContent;
                if (typeText === areaType) {
                    row.classList.add('highlight');
                }
                
                // ì¡°ë‹¨ê°€ ì»¬ëŸ¼ ì—…ë°ì´íŠ¸ (ì§€ì—­ë³„ ê°€ê²© ì°¨ë“± ë°˜ì˜)
                const originalPrice = getOriginalPriceByAreaType(typeText);
                if (originalPrice) {
                    const adjustedPrice = originalPrice + priceAdjustment;
                    row.cells[2].textContent = adjustedPrice.toLocaleString() + 'ì›';
                }
            });
        }
        
        // ìƒê¶Œë³„ ì›ë³¸ ê°€ê²© ì¡°íšŒ í•¨ìˆ˜
        function getOriginalPriceByAreaType(areaType) {
            const priceMap = {
                'ì˜¤í”¼ìŠ¤': 91000,
                'ì£¼ê±°': 82000,
                'ë¨¹ìê³¨ëª©': 87000,
                'ëŒ€í•™ê°€': 79000,
                'ë³µí•©ìƒê¶Œ': 85000,
                'ë°ì´íŠ¸ì½”ìŠ¤': 85000
            };
            return priceMap[areaType] || null;
        }

        // ì°¸ê³  í…Œì´ë¸” ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateReferenceTable() {
            const regionType = document.getElementById('region_type').value;
            const referenceTableRows = document.querySelectorAll('.reference-table:nth-child(3) tbody tr');
            
            // ì§€ì—­ë³„ ìƒê¶Œ ë¶„ë¥˜ ì°¸ê³  í…Œì´ë¸” ì—…ë°ì´íŠ¸
            const tableData = {
                'ìˆ˜ë„ê¶Œ': [
                    {type: 'ì˜¤í”¼ìŠ¤', feature: 'ì§ì¥ì¸ ì¤‘ì‹¬'},
                    {type: 'ì£¼ê±°', feature: 'ì£¼ë¯¼ ì¤‘ì‹¬'},
                    {type: 'ë¨¹ìê³¨ëª©', feature: 'ì™¸ì‹ ì¤‘ì‹¬'},
                    {type: 'ëŒ€í•™ê°€', feature: 'ëŒ€í•™ìƒ ì¤‘ì‹¬'},
                    {type: 'ë³µí•©ìƒê¶Œ', feature: 'ë‹¤ì–‘í•œ ê³ ê°ì¸µ'},
                    {type: 'ë°ì´íŠ¸ì½”ìŠ¤', feature: 'ì—°ì¸ ì¤‘ì‹¬'}
                ],
                'ì§€ë°©ê¶Œ': [
                    {type: 'ì˜¤í”¼ìŠ¤', feature: 'ì§ì¥ì¸ ì¤‘ì‹¬'},
                    {type: 'ì£¼ê±°', feature: 'ì£¼ë¯¼ ì¤‘ì‹¬'},
                    {type: 'ë¨¹ìê³¨ëª©', feature: 'ì™¸ì‹ ì¤‘ì‹¬'},
                    {type: 'ëŒ€í•™ê°€', feature: 'ëŒ€í•™ìƒ ì¤‘ì‹¬'},
                    {type: 'ë³µí•©ìƒê¶Œ', feature: 'ë‹¤ì–‘í•œ ê³ ê°ì¸µ'},
                    {type: 'ë°ì´íŠ¸ì½”ìŠ¤', feature: 'ì—°ì¸ ì¤‘ì‹¬'}
                ]
            };
            
            // í…Œì´ë¸” ë‚´ìš© ì—…ë°ì´íŠ¸
            tableData[regionType].forEach((data, index) => {
                if (referenceTableRows[index]) {
                    referenceTableRows[index].cells[0].textContent = data.type;
                    referenceTableRows[index].cells[1].textContent = data.feature;
                }
            });
        }
        
        // ìˆ˜ìµ ë¶„ì„ ì¹´í…Œê³ ë¦¬ í† ê¸€ í•¨ìˆ˜
        function toggleCategory(categoryId) {
            const details = document.getElementById(categoryId + '-details');
            const icon = document.getElementById(categoryId + '-icon');
            
            if (details.classList.contains('open')) {
                details.classList.remove('open');
                icon.textContent = 'â–¼';
            } else {
                details.classList.add('open');
                icon.textContent = 'â–²';
            }
        }
        
        // ì„ëŒ€ë£Œ ì…ë ¥ í¬ë§·íŒ…
        const formatRentInput = input => {
            const value = input.value.replace(/[^0-9]/g, '');
            input.value = value ? parseInt(value).toLocaleString() : '';
        };
        
        // ìˆ˜ìµ ê³„ì‚° ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateProfitCalculation() {
            const monthlySalesText = document.getElementById('monthly_sales').textContent;
            const monthlySales = parseInt(monthlySalesText.replace(/,/g, ''));
            
            // ì„ëŒ€ë£Œì—ì„œ ì‰¼í‘œ ì œê±° í›„ ìˆ«ìë¡œ ë³€í™˜
            const monthlyRentText = document.getElementById('monthly_rent').value;
            const monthlyRent = parseInt(monthlyRentText.replace(/,/g, '')) || 0;
            
            const area = parseInt(document.getElementById('area_size').value);
            
            // í‰ìˆ˜ë³„ ì¸ê±´ë¹„ ë° í¬ìŠ¤ ë¹„ìš© ê³„ì‚°
            const laborCosts = getLaborCosts(area);
            const staffSalary = laborCosts.staffSalary;
            const ptSalary = laborCosts.ptSalary;
            const insurance = Math.round(staffSalary * 0.09); // 4ëŒ€ë³´í—˜ (ì§ì›ê¸‰ì—¬ì˜ 9%)
            const totalLaborCosts = staffSalary + insurance + ptSalary;
            
            // í¬ìŠ¤ ë¹„ìš© ê³„ì‚°
            const posCost = getPosCost(area);
            
            // ê³ ì •ë¹„ ê³„ì‚° (ì„ëŒ€ë£Œ + í¬ìŠ¤ + ê¸°íƒ€ ê³ ì •ë¹„)
            const otherFixedCosts = posCost + 38500 + 110000 + 55000 + 70000 + 110000;
            const totalFixedCosts = monthlyRent + otherFixedCosts;
            
            // ê° ë¹„ìš© í•­ëª© ê³„ì‚° (ë§¤ì¶œ ê¸°ì¤€ ë¹„ìœ¨)
            const foodCosts = Math.round(monthlySales * 0.273); // 27.3%
            const beverageCosts = Math.round(monthlySales * 0.068); // 6.8%
            const utilityCosts = Math.round(monthlySales * 0.018); // 1.8%
            
            // ê¸°íƒ€ì¡ë¹„ ê³„ì‚°
            const coatingCosts = Math.round(monthlySales * 0.005);
            const welfareCosts = 500000;
            // ì¹´ë“œìˆ˜ìˆ˜ë£Œ: ì¹´ë“œ ë§¤ì¶œ(ì´ ë§¤ì¶œì˜ 95%)ì˜ 1.4%
            const cardSales = monthlySales * 0.95; // ì¹´ë“œ ë§¤ì¶œ (í˜„ê¸ˆ 5% ì œì™¸)
            const cardFee = Math.round(cardSales * 0.014); // ì¹´ë“œ ë§¤ì¶œì˜ 1.4%
            const royalty = Math.round(monthlySales * 0.022);
            const advertising = Math.round(monthlySales * 0.02);
            const miscCosts = coatingCosts + welfareCosts + cardFee + royalty + advertising;
            
            // ì´ ì§€ì¶œ ë° ìˆœìˆ˜ìµ ê³„ì‚°
            const totalExpense = totalFixedCosts + totalLaborCosts + foodCosts + beverageCosts + utilityCosts + miscCosts;
            const netProfit = monthlySales - totalExpense;
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            document.getElementById('profit_revenue').textContent = monthlySales.toLocaleString() + 'ì›';
            document.getElementById('profit_expense').textContent = totalExpense.toLocaleString() + 'ì›';
            document.getElementById('net_profit').textContent = netProfit.toLocaleString() + 'ì›';
            
            document.getElementById('expense_percentage').textContent = ((totalExpense / monthlySales) * 100).toFixed(1) + '%';
            document.getElementById('profit_percentage').textContent = ((netProfit / monthlySales) * 100).toFixed(1) + '%';
            
            // ê° ì¹´í…Œê³ ë¦¬ë³„ ê¸ˆì•¡ ì—…ë°ì´íŠ¸
            document.getElementById('fixed_costs_amount').textContent = totalFixedCosts.toLocaleString() + 'ì›';
            document.getElementById('fixed_costs_percent').textContent = '(' + ((totalFixedCosts / monthlySales) * 100).toFixed(1) + '%)';
            document.getElementById('rent_display').textContent = monthlyRent.toLocaleString() + 'ì›';
            document.getElementById('rent_percent').textContent = ((monthlyRent / monthlySales) * 100).toFixed(1) + '%';
            
            document.getElementById('labor_costs_amount').textContent = totalLaborCosts.toLocaleString() + 'ì›';
            
            // ì¸ê±´ë¹„ ë¹„ìœ¨ ì—…ë°ì´íŠ¸
            const laborPercentage = ((totalLaborCosts / monthlySales) * 100).toFixed(1);
            const laborPercentElement = document.querySelector('#labor-costs .category-summary .percentage');
            if (laborPercentElement) {
                laborPercentElement.textContent = '(' + laborPercentage + '%)';
            }
            document.getElementById('food_costs_amount').textContent = foodCosts.toLocaleString() + 'ì›';
            
            // ì‹ì¬ë£Œ ë¹„ìœ¨ ì—…ë°ì´íŠ¸ (ì‹¤ì œ ê³„ì‚°ëœ ë¹„ìœ¨ í‘œì‹œ)
            const actualFoodPercentage = ((foodCosts / monthlySales) * 100).toFixed(2);
            const foodPercentElement = document.querySelector('#food-costs .category-summary .percentage');
            if (foodPercentElement) {
                foodPercentElement.textContent = '(' + actualFoodPercentage + '%)';
            }
            
            document.getElementById('beverage_costs_amount').textContent = beverageCosts.toLocaleString() + 'ì›';
            
            // ì£¼ë¥˜ ìŒë£Œ ë¹„ìœ¨ ì—…ë°ì´íŠ¸ (ì‹¤ì œ ê³„ì‚°ëœ ë¹„ìœ¨ í‘œì‹œ)
            const actualBeveragePercentage = ((beverageCosts / monthlySales) * 100).toFixed(2);
            const beveragePercentElement = document.querySelector('#beverage-costs .category-summary .percentage');
            if (beveragePercentElement) {
                beveragePercentElement.textContent = '(' + actualBeveragePercentage + '%)';
            }
            document.getElementById('utility_costs_amount').textContent = utilityCosts.toLocaleString() + 'ì›';
            document.getElementById('misc_costs_amount').textContent = miscCosts.toLocaleString() + 'ì›';
            
            // ì„¸ë¶€ í•­ëª©ë“¤ ì—…ë°ì´íŠ¸
            updateDetailedCosts(monthlySales, area);
            updateLaborDetails(staffSalary, insurance, ptSalary, monthlySales);
            updateFixedCostDetails(monthlyRent, posCost, monthlySales);
        }
        
        // ì„¸ë¶€ ë¹„ìš© í•­ëª© ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateDetailedCosts(monthlySales, area) {
            // ì‹ì¬ë£Œ ì„¸ë¶€ í•­ëª©
            document.getElementById('food_main').textContent = Math.round(monthlySales * 0.135).toLocaleString() + 'ì›';
            document.getElementById('food_sauce').textContent = Math.round(monthlySales * 0.03).toLocaleString() + 'ì›';
            document.getElementById('food_meat').textContent = Math.round(monthlySales * 0.03).toLocaleString() + 'ì›';
            document.getElementById('food_produce').textContent = Math.round(monthlySales * 0.0575).toLocaleString() + 'ì›';
            document.getElementById('food_supplies').textContent = Math.round(monthlySales * 0.02).toLocaleString() + 'ì›';
            
            // ì£¼ë¥˜ ìŒë£Œ ì„¸ë¶€ í•­ëª©
            document.getElementById('beverage_regular').textContent = Math.round(monthlySales * 0.05).toLocaleString() + 'ì›';
            document.getElementById('beverage_premium').textContent = Math.round(monthlySales * 0.01).toLocaleString() + 'ì›';
            document.getElementById('beverage_soft').textContent = Math.round(monthlySales * 0.0075).toLocaleString() + 'ì›';
            
            // ìˆ˜ë„ê´‘ì—´ë¹„ ì„¸ë¶€ í•­ëª©
            document.getElementById('utility_electric').textContent = Math.round(monthlySales * 0.01).toLocaleString() + 'ì›';
            document.getElementById('utility_gas').textContent = Math.round(monthlySales * 0.005).toLocaleString() + 'ì›';
            document.getElementById('utility_water').textContent = Math.round(monthlySales * 0.003).toLocaleString() + 'ì›';
            
            // ê¸°íƒ€ì¡ë¹„ ì„¸ë¶€ í•­ëª©
            document.getElementById('misc_coating').textContent = Math.round(monthlySales * 0.005).toLocaleString() + 'ì›';
            
            // ì¹´ë“œìˆ˜ìˆ˜ë£Œ: ì¹´ë“œ ë§¤ì¶œ(ì´ ë§¤ì¶œì˜ 95%)ì˜ 1.4%
            const cardSales = monthlySales * 0.95;
            const cardFee = Math.round(cardSales * 0.014);
            document.getElementById('misc_card_fee').textContent = cardFee.toLocaleString() + 'ì›';
            
            document.getElementById('misc_royalty').textContent = Math.round(monthlySales * 0.022).toLocaleString() + 'ì›';
            document.getElementById('misc_advertising').textContent = Math.round(monthlySales * 0.02).toLocaleString() + 'ì›';
        }
        
        // ì¸ê±´ë¹„ ì„¸ë¶€ í•­ëª© ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateLaborDetails(staffSalary, insurance, ptSalary, monthlySales) {
            // ì¸ê±´ë¹„ ì„¸ë¶€ í•­ëª© ì—…ë°ì´íŠ¸
            const staffSalaryElement = document.querySelector('#labor-costs-details tbody tr:nth-child(1) .amount');
            const insuranceElement = document.querySelector('#labor-costs-details tbody tr:nth-child(2) .amount');
            const ptSalaryElement = document.querySelector('#labor-costs-details tbody tr:nth-child(3) .amount');
            
            if (staffSalaryElement) staffSalaryElement.textContent = staffSalary.toLocaleString() + 'ì›';
            if (insuranceElement) insuranceElement.textContent = insurance.toLocaleString() + 'ì›';
            if (ptSalaryElement) ptSalaryElement.textContent = ptSalary.toLocaleString() + 'ì›';
            
            // ë¹„ìœ¨ ì—…ë°ì´íŠ¸
            const staffPercentElement = document.querySelector('#labor-costs-details tbody tr:nth-child(1) .percentage');
            const insurancePercentElement = document.querySelector('#labor-costs-details tbody tr:nth-child(2) .percentage');
            const ptPercentElement = document.querySelector('#labor-costs-details tbody tr:nth-child(3) .percentage');
            
            if (staffPercentElement) staffPercentElement.textContent = ((staffSalary / monthlySales) * 100).toFixed(1) + '%';
            if (insurancePercentElement) insurancePercentElement.textContent = ((insurance / monthlySales) * 100).toFixed(1) + '%';
            if (ptPercentElement) ptPercentElement.textContent = ((ptSalary / monthlySales) * 100).toFixed(1) + '%';
        }
        
        // ì¸ë ¥ ì •ë³´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateLaborInfo(area) {
            const laborInfo = laborInfoByArea[area];
            if (laborInfo) {
                // ì§ì› ê¸‰ì—¬ ì„œë¸Œë¼ë²¨ ì—…ë°ì´íŠ¸
                const staffInfoElement = document.getElementById('staff_info_display');
                if (staffInfoElement) {
                    staffInfoElement.textContent = `ì•½ ${laborInfo.staffCount}ëª… ê³ ìš© ê¸°ì¤€`;
                }
                
                // PT ê¸‰ì—¬ ì„œë¸Œë¼ë²¨ ì—…ë°ì´íŠ¸
                const ptInfoElement = document.getElementById('pt_info_display');
                if (ptInfoElement) {
                    ptInfoElement.textContent = `ì•½ ${laborInfo.ptCount}ëª…, í‰ê·  ${laborInfo.ptHours}ì‹œê°„ ê¸°ì¤€`;
                }
            }
        }
        
        // ê³ ì •ë¹„ ì„¸ë¶€ í•­ëª© ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateFixedCostDetails(monthlyRent, posCost, monthlySales) {
            // í¬ìŠ¤ ë¹„ìš© ì—…ë°ì´íŠ¸
            const posElement = document.querySelector('#fixed-costs-details tbody tr:nth-child(2) .amount');
            if (posElement) posElement.textContent = posCost.toLocaleString() + 'ì›';
            
            // í¬ìŠ¤ ë¹„ìœ¨ ì—…ë°ì´íŠ¸
            const posPercentElement = document.querySelector('#fixed-costs-details tbody tr:nth-child(2) .percentage');
            if (posPercentElement) posPercentElement.textContent = ((posCost / monthlySales) * 100).toFixed(2) + '%';
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê³„ì‚° ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            updateReferenceTable();
            updateCalculation();
        });
    </script>
</body>
</html>